System.register(["./index-legacy-ByfB6CT1.js"],function(t,e){"use strict";var o,n;return{setters:[t=>{o=t.m,n=t.n}],execute:function(){
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const e=t=>document.querySelector(`${t}.ion-cloned-element`),r=t("shadow",t=>t.shadowRoot||t),a=t=>{const e="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),o="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=e){const t=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=t?t.querySelector(o):null}return t.querySelector(o)},l=(t,e)=>{const o="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs");let n=[];if(null!=o){const t=o.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=t&&(n=t.querySelectorAll("ion-buttons"))}else n=t.querySelectorAll("ion-buttons");for(const r of n){const t=r.closest("ion-header"),o=t&&!t.classList.contains("header-collapse-condense-inactive"),n=r.querySelector("ion-back-button"),a=r.classList.contains("buttons-collapse"),l="start"===r.slot||""===r.slot;if(null!==n&&l&&(a&&o&&e||!a))return n}return null},s=(t,n,a,l,s,i,d,f,m)=>{var y,u;const p=n?`calc(100% - ${s.right+4}px)`:s.left-4+"px",b=n?"right":"left",g=n?"left":"right",S=n?"right":"left";let h=1,$=1,x=`scale(${$})`;const q="scale(1)";if(i&&d){const t=(null===(y=i.textContent)||void 0===y?void 0:y.trim())===(null===(u=f.textContent)||void 0===u?void 0:u.trim());h=m.width/d.width,$=(m.height-c)/d.height,x=t?`scale(${h}, ${$})`:`scale(${$})`}const T=r(l).querySelector("ion-icon").getBoundingClientRect(),X=n?T.width/2-(T.right-s.right)+"px":s.left-T.width/2+"px",E=n?`-${window.innerWidth-s.right}px`:`${s.left}px`,A=`${m.top}px`,v=`${s.top}px`,C=a?[{offset:0,transform:`translate3d(${E}, ${v}, 0)`},{offset:1,transform:`translate3d(${X}, ${A}, 0)`}]:[{offset:0,transform:`translate3d(${X}, ${A}, 0)`},{offset:1,transform:`translate3d(${E}, ${v}, 0)`}],w=a?[{offset:0,opacity:1,transform:q},{offset:1,opacity:0,transform:x}]:[{offset:0,opacity:0,transform:x},{offset:1,opacity:1,transform:q}],k=a?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],B=o(),P=o(),R=o(),W=e("ion-back-button"),L=r(W).querySelector(".button-text"),N=r(W).querySelector("ion-icon");W.text=l.text,W.mode=l.mode,W.icon=l.icon,W.color=l.color,W.disabled=l.disabled,W.style.setProperty("display","block"),W.style.setProperty("position","fixed"),P.addElement(N),B.addElement(L),R.addElement(W),R.beforeStyles({position:"absolute",top:"0px",[S]:"0px"}).beforeAddWrite(()=>{l.style.setProperty("display","none"),W.style.setProperty(b,p)}).afterAddWrite(()=>{l.style.setProperty("display",""),W.style.setProperty("display","none"),W.style.removeProperty(b)}).keyframes(C),B.beforeStyles({"transform-origin":`${b} top`}).keyframes(w),P.beforeStyles({"transform-origin":`${g} center`}).keyframes(k),t.addAnimation([B,P,R])},i=(t,n,r,a,l,s,i,d,f)=>{var m,y;const u=n?"right":"left",p=n?`calc(100% - ${l.right}px)`:`${l.left}px`,b=`${l.top}px`;let g=n?`-${window.innerWidth-i.right-8}px`:`${i.x+8}px`,S=.5;const h="scale(1)";let $=`scale(${S})`;if(d&&f){g=n?`-${window.innerWidth-f.right-8}px`:f.x-8+"px";const t=(null===(m=d.textContent)||void 0===m?void 0:m.trim())===(null===(y=a.textContent)||void 0===y?void 0:y.trim()),e=f.width/s.width;S=f.height/(s.height-c),$=t?`scale(${e}, ${S})`:`scale(${S})`}const x=i.top+i.height/2-l.height*S/2+"px",q=r?[{offset:0,opacity:0,transform:`translate3d(${g}, ${x}, 0) ${$}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${b}, 0) ${h}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${b}, 0) ${h}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${g}, ${x}, 0) ${$}`}],T=e("ion-title"),X=o();T.innerText=a.innerText,T.size=a.size,T.color=a.color,X.addElement(T),X.beforeStyles({"transform-origin":`${u} top`,height:`${l.height}px`,display:"",position:"relative",[u]:p}).beforeAddWrite(()=>{a.style.setProperty("opacity","0")}).afterAddWrite(()=>{a.style.setProperty("opacity",""),T.style.setProperty("display","none")}).keyframes(q),t.addAnimation(X)},c=(t("iosTransitionAnimation",(t,e)=>{var c;try{const d="cubic-bezier(0.32,0.72,0,1)",f="opacity",m="transform",y="0%",u=.8,p="rtl"===t.ownerDocument.dir,b=p?"-99.5%":"99.5%",g=p?"33%":"-33%",S=e.enteringEl,h=e.leavingEl,$="back"===e.direction,x=S.querySelector(":scope > ion-content"),q=S.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),T=S.querySelectorAll(":scope > ion-header > ion-toolbar"),X=o(),E=o();if(X.addElement(S).duration((null!==(c=e.duration)&&void 0!==c?c:0)||540).easing(e.easing||d).fill("both").beforeRemoveClass("ion-page-invisible"),h&&null!=t){const e=o();e.addElement(t),X.addAnimation(e)}if(x||0!==T.length||0!==q.length?(E.addElement(x),E.addElement(q)):E.addElement(S.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),X.addAnimation(E),$?E.beforeClearStyles([f]).fromTo("transform",`translateX(${g})`,`translateX(${y})`).fromTo(f,u,1):E.beforeClearStyles([f]).fromTo("transform",`translateX(${b})`,`translateX(${y})`),x){const t=r(x).querySelector(".transition-effect");if(t){const e=t.querySelector(".transition-cover"),n=t.querySelector(".transition-shadow"),r=o(),a=o(),l=o();r.addElement(t).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(e).beforeClearStyles([f]).fromTo(f,0,.1),l.addElement(n).beforeClearStyles([f]).fromTo(f,.03,.7),r.addAnimation([a,l]),E.addAnimation([r])}}const A=S.querySelector("ion-header.header-collapse-condense"),{forward:v,backward:C}=((t,e,o,n,c)=>{const d=l(n,o),f=a(c),m=a(n),y=l(c,o),u=null!==d&&null!==f&&!o,p=null!==m&&null!==y&&o;if(u){const n=f.getBoundingClientRect(),a=d.getBoundingClientRect(),l=r(d).querySelector(".button-text"),c=null==l?void 0:l.getBoundingClientRect(),m=r(f).querySelector(".toolbar-title").getBoundingClientRect();i(t,e,o,f,n,m,a,l,c),s(t,e,o,d,a,l,c,f,m)}else if(p){const n=m.getBoundingClientRect(),a=y.getBoundingClientRect(),l=r(y).querySelector(".button-text"),c=null==l?void 0:l.getBoundingClientRect(),d=r(m).querySelector(".toolbar-title").getBoundingClientRect();i(t,e,o,m,n,d,a,l,c),s(t,e,o,y,a,l,c,m,d)}return{forward:u,backward:p}})(X,p,$,S,h);if(T.forEach(t=>{const e=o();e.addElement(t),X.addAnimation(e);const n=o();n.addElement(t.querySelector("ion-title"));const a=o(),l=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]")),s=t.closest("ion-header"),i=null==s?void 0:s.classList.contains("header-collapse-condense-inactive");let c;c=$?l.filter(t=>{const e=t.classList.contains("buttons-collapse");return e&&!i||!e}):l.filter(t=>!t.classList.contains("buttons-collapse")),a.addElement(c);const d=o();d.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const m=o();m.addElement(r(t).querySelector(".toolbar-background"));const u=o(),S=t.querySelector("ion-back-button");if(S&&u.addElement(S),e.addAnimation([n,a,d,m,u]),a.fromTo(f,.01,1),d.fromTo(f,.01,1),$)i||n.fromTo("transform",`translateX(${g})`,`translateX(${y})`).fromTo(f,.01,1),d.fromTo("transform",`translateX(${g})`,`translateX(${y})`),u.fromTo(f,.01,1);else if(A||n.fromTo("transform",`translateX(${b})`,`translateX(${y})`).fromTo(f,.01,1),d.fromTo("transform",`translateX(${b})`,`translateX(${y})`),m.beforeClearStyles([f,"transform"]),(null==s?void 0:s.translucent)?m.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):m.fromTo(f,.01,"var(--opacity)"),v||u.fromTo(f,.01,1),S&&!v){const t=o();t.addElement(r(S).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),e.addAnimation(t)}}),h){const t=o(),e=h.querySelector(":scope > ion-content"),a=h.querySelectorAll(":scope > ion-header > ion-toolbar"),l=h.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(e||0!==a.length||0!==l.length?(t.addElement(e),t.addElement(l)):t.addElement(h.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),X.addAnimation(t),$){t.beforeClearStyles([f]).fromTo("transform",`translateX(${y})`,p?"translateX(-100%)":"translateX(100%)");const e=n(h);X.afterAddWrite(()=>{"normal"===X.getDirection()&&e.style.setProperty("display","none")})}else t.fromTo("transform",`translateX(${y})`,`translateX(${g})`).fromTo(f,1,u);if(e){const n=r(e).querySelector(".transition-effect");if(n){const e=n.querySelector(".transition-cover"),r=n.querySelector(".transition-shadow"),a=o(),l=o(),s=o();a.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),l.addElement(e).beforeClearStyles([f]).fromTo(f,.1,0),s.addElement(r).beforeClearStyles([f]).fromTo(f,.7,.03),a.addAnimation([l,s]),t.addAnimation([a])}}a.forEach(t=>{const e=o();e.addElement(t);const n=o();n.addElement(t.querySelector("ion-title"));const a=o(),l=t.querySelectorAll("ion-buttons,[menuToggle]"),s=t.closest("ion-header"),i=null==s?void 0:s.classList.contains("header-collapse-condense-inactive"),c=Array.from(l).filter(t=>{const e=t.classList.contains("buttons-collapse");return e&&!i||!e});a.addElement(c);const d=o(),u=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");u.length>0&&d.addElement(u);const b=o();b.addElement(r(t).querySelector(".toolbar-background"));const S=o(),h=t.querySelector("ion-back-button");if(h&&S.addElement(h),e.addAnimation([n,a,d,S,b]),X.addAnimation(e),S.fromTo(f,.99,0),a.fromTo(f,.99,0),d.fromTo(f,.99,0),$){if(i||n.fromTo("transform",`translateX(${y})`,p?"translateX(-100%)":"translateX(100%)").fromTo(f,.99,0),d.fromTo("transform",`translateX(${y})`,p?"translateX(-100%)":"translateX(100%)"),b.beforeClearStyles([f,"transform"]),(null==s?void 0:s.translucent)?b.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):b.fromTo(f,"var(--opacity)",0),h&&!C){const t=o();t.addElement(r(h).querySelector(".button-text")).fromTo("transform",`translateX(${y})`,`translateX(${(p?-124:124)+"px"})`),e.addAnimation(t)}}else i||n.fromTo("transform",`translateX(${y})`,`translateX(${g})`).fromTo(f,.99,0).afterClearStyles([m,f]),d.fromTo("transform",`translateX(${y})`,`translateX(${g})`).afterClearStyles([m,f]),S.afterClearStyles([f]),n.afterClearStyles([f]),a.afterClearStyles([f])})}return X}catch(d){throw d}}),10)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW9zLnRyYW5zaXRpb24tbGVnYWN5LURhX0VuSk5aLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGlvbmljK2NvcmVAOC43LjExL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9jb21wb25lbnRzL2lvcy50cmFuc2l0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUFuaW1hdGlvbiB9IGZyb20gJy4vYW5pbWF0aW9uLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0SW9uUGFnZUVsZW1lbnQgfSBmcm9tICcuL2luZGV4Mi5qcyc7XG5cbmNvbnN0IERVUkFUSU9OID0gNTQwO1xuLy8gVE9ETyhGVy0yODMyKTogdHlwZXNcbmNvbnN0IGdldENsb25lZEVsZW1lbnQgPSAodGFnTmFtZSkgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RhZ05hbWV9Lmlvbi1jbG9uZWQtZWxlbWVudGApO1xufTtcbmNvbnN0IHNoYWRvdyA9IChlbCkgPT4ge1xuICAgIHJldHVybiBlbC5zaGFkb3dSb290IHx8IGVsO1xufTtcbmNvbnN0IGdldExhcmdlVGl0bGUgPSAocmVmRWwpID0+IHtcbiAgICBjb25zdCB0YWJzID0gcmVmRWwudGFnTmFtZSA9PT0gJ0lPTi1UQUJTJyA/IHJlZkVsIDogcmVmRWwucXVlcnlTZWxlY3RvcignaW9uLXRhYnMnKTtcbiAgICBjb25zdCBxdWVyeSA9ICdpb24tY29udGVudCBpb24taGVhZGVyOm5vdCguaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlKSBpb24tdGl0bGUudGl0bGUtbGFyZ2UnO1xuICAgIGlmICh0YWJzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlVGFiID0gdGFicy5xdWVyeVNlbGVjdG9yKCdpb24tdGFiOm5vdCgudGFiLWhpZGRlbiksIC5pb24tcGFnZTpub3QoLmlvbi1wYWdlLWhpZGRlbiknKTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZVRhYiAhPSBudWxsID8gYWN0aXZlVGFiLnF1ZXJ5U2VsZWN0b3IocXVlcnkpIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlZkVsLnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xufTtcbmNvbnN0IGdldEJhY2tCdXR0b24gPSAocmVmRWwsIGJhY2tEaXJlY3Rpb24pID0+IHtcbiAgICBjb25zdCB0YWJzID0gcmVmRWwudGFnTmFtZSA9PT0gJ0lPTi1UQUJTJyA/IHJlZkVsIDogcmVmRWwucXVlcnlTZWxlY3RvcignaW9uLXRhYnMnKTtcbiAgICBsZXQgYnV0dG9uc0xpc3QgPSBbXTtcbiAgICBpZiAodGFicyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVRhYiA9IHRhYnMucXVlcnlTZWxlY3RvcignaW9uLXRhYjpub3QoLnRhYi1oaWRkZW4pLCAuaW9uLXBhZ2U6bm90KC5pb24tcGFnZS1oaWRkZW4pJyk7XG4gICAgICAgIGlmIChhY3RpdmVUYWIgIT0gbnVsbCkge1xuICAgICAgICAgICAgYnV0dG9uc0xpc3QgPSBhY3RpdmVUYWIucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYnV0dG9uc0xpc3QgPSByZWZFbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tYnV0dG9ucycpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGJ1dHRvbnMgb2YgYnV0dG9uc0xpc3QpIHtcbiAgICAgICAgY29uc3QgcGFyZW50SGVhZGVyID0gYnV0dG9ucy5jbG9zZXN0KCdpb24taGVhZGVyJyk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUhlYWRlciA9IHBhcmVudEhlYWRlciAmJiAhcGFyZW50SGVhZGVyLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlJyk7XG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSBidXR0b25zLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrLWJ1dHRvbicpO1xuICAgICAgICBjb25zdCBidXR0b25zQ29sbGFwc2UgPSBidXR0b25zLmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9ucy1jb2xsYXBzZScpO1xuICAgICAgICBjb25zdCBzdGFydFNsb3QgPSBidXR0b25zLnNsb3QgPT09ICdzdGFydCcgfHwgYnV0dG9ucy5zbG90ID09PSAnJztcbiAgICAgICAgaWYgKGJhY2tCdXR0b24gIT09IG51bGwgJiYgc3RhcnRTbG90ICYmICgoYnV0dG9uc0NvbGxhcHNlICYmIGFjdGl2ZUhlYWRlciAmJiBiYWNrRGlyZWN0aW9uKSB8fCAhYnV0dG9uc0NvbGxhcHNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGJhY2tCdXR0b247XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgY3JlYXRlTGFyZ2VUaXRsZVRyYW5zaXRpb24gPSAocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0VsLCBsZWF2aW5nRWwpID0+IHtcbiAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b24gPSBnZXRCYWNrQnV0dG9uKGVudGVyaW5nRWwsIGJhY2tEaXJlY3Rpb24pO1xuICAgIGNvbnN0IGxlYXZpbmdMYXJnZVRpdGxlID0gZ2V0TGFyZ2VUaXRsZShsZWF2aW5nRWwpO1xuICAgIGNvbnN0IGVudGVyaW5nTGFyZ2VUaXRsZSA9IGdldExhcmdlVGl0bGUoZW50ZXJpbmdFbCk7XG4gICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b24gPSBnZXRCYWNrQnV0dG9uKGxlYXZpbmdFbCwgYmFja0RpcmVjdGlvbik7XG4gICAgY29uc3Qgc2hvdWxkQW5pbWF0aW9uRm9yd2FyZCA9IGVudGVyaW5nQmFja0J1dHRvbiAhPT0gbnVsbCAmJiBsZWF2aW5nTGFyZ2VUaXRsZSAhPT0gbnVsbCAmJiAhYmFja0RpcmVjdGlvbjtcbiAgICBjb25zdCBzaG91bGRBbmltYXRpb25CYWNrd2FyZCA9IGVudGVyaW5nTGFyZ2VUaXRsZSAhPT0gbnVsbCAmJiBsZWF2aW5nQmFja0J1dHRvbiAhPT0gbnVsbCAmJiBiYWNrRGlyZWN0aW9uO1xuICAgIGlmIChzaG91bGRBbmltYXRpb25Gb3J3YXJkKSB7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdMYXJnZVRpdGxlQm94ID0gbGVhdmluZ0xhcmdlVGl0bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nQmFja0J1dHRvbkJveCA9IGVudGVyaW5nQmFja0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEVsID0gc2hhZG93KGVudGVyaW5nQmFja0J1dHRvbikucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0Jyk7XG4gICAgICAgIC8vIFRleHQgZWxlbWVudCBub3QgcmVuZGVyZWQgaWYgZGV2ZWxvcGVycyBwYXNzIHRleHQ9XCJcIiB0byB0aGUgYmFjayBidXR0b25cbiAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCA9IGVudGVyaW5nQmFja0J1dHRvblRleHRFbCA9PT0gbnVsbCB8fCBlbnRlcmluZ0JhY2tCdXR0b25UZXh0RWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVudGVyaW5nQmFja0J1dHRvblRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0xhcmdlVGl0bGVUZXh0RWwgPSBzaGFkb3cobGVhdmluZ0xhcmdlVGl0bGUpLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyLXRpdGxlJyk7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdMYXJnZVRpdGxlVGV4dEJveCA9IGxlYXZpbmdMYXJnZVRpdGxlVGV4dEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBhbmltYXRlTGFyZ2VUaXRsZShyb290QW5pbWF0aW9uLCBydGwsIGJhY2tEaXJlY3Rpb24sIGxlYXZpbmdMYXJnZVRpdGxlLCBsZWF2aW5nTGFyZ2VUaXRsZUJveCwgbGVhdmluZ0xhcmdlVGl0bGVUZXh0Qm94LCBlbnRlcmluZ0JhY2tCdXR0b25Cb3gsIGVudGVyaW5nQmFja0J1dHRvblRleHRFbCwgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCk7XG4gICAgICAgIGFuaW1hdGVCYWNrQnV0dG9uKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdCYWNrQnV0dG9uLCBlbnRlcmluZ0JhY2tCdXR0b25Cb3gsIGVudGVyaW5nQmFja0J1dHRvblRleHRFbCwgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCwgbGVhdmluZ0xhcmdlVGl0bGUsIGxlYXZpbmdMYXJnZVRpdGxlVGV4dEJveCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNob3VsZEFuaW1hdGlvbkJhY2t3YXJkKSB7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nTGFyZ2VUaXRsZUJveCA9IGVudGVyaW5nTGFyZ2VUaXRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b25Cb3ggPSBsZWF2aW5nQmFja0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b25UZXh0RWwgPSBzaGFkb3cobGVhdmluZ0JhY2tCdXR0b24pLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdGV4dCcpO1xuICAgICAgICAvLyBUZXh0IGVsZW1lbnQgbm90IHJlbmRlcmVkIGlmIGRldmVsb3BlcnMgcGFzcyB0ZXh0PVwiXCIgdG8gdGhlIGJhY2sgYnV0dG9uXG4gICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnV0dG9uVGV4dEJveCA9IGxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsID09PSBudWxsIHx8IGxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsZWF2aW5nQmFja0J1dHRvblRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEVsID0gc2hhZG93KGVudGVyaW5nTGFyZ2VUaXRsZSkucXVlcnlTZWxlY3RvcignLnRvb2xiYXItdGl0bGUnKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCA9IGVudGVyaW5nTGFyZ2VUaXRsZVRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgYW5pbWF0ZUxhcmdlVGl0bGUocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0xhcmdlVGl0bGUsIGVudGVyaW5nTGFyZ2VUaXRsZUJveCwgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCwgbGVhdmluZ0JhY2tCdXR0b25Cb3gsIGxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsLCBsZWF2aW5nQmFja0J1dHRvblRleHRCb3gpO1xuICAgICAgICBhbmltYXRlQmFja0J1dHRvbihyb290QW5pbWF0aW9uLCBydGwsIGJhY2tEaXJlY3Rpb24sIGxlYXZpbmdCYWNrQnV0dG9uLCBsZWF2aW5nQmFja0J1dHRvbkJveCwgbGVhdmluZ0JhY2tCdXR0b25UZXh0RWwsIGxlYXZpbmdCYWNrQnV0dG9uVGV4dEJveCwgZW50ZXJpbmdMYXJnZVRpdGxlLCBlbnRlcmluZ0xhcmdlVGl0bGVUZXh0Qm94KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZm9yd2FyZDogc2hvdWxkQW5pbWF0aW9uRm9yd2FyZCxcbiAgICAgICAgYmFja3dhcmQ6IHNob3VsZEFuaW1hdGlvbkJhY2t3YXJkLFxuICAgIH07XG59O1xuY29uc3QgYW5pbWF0ZUJhY2tCdXR0b24gPSAocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBiYWNrQnV0dG9uRWwsIGJhY2tCdXR0b25Cb3gsIGJhY2tCdXR0b25UZXh0RWwsIGJhY2tCdXR0b25UZXh0Qm94LCBsYXJnZVRpdGxlRWwsIGxhcmdlVGl0bGVUZXh0Qm94KSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBCQUNLX0JVVFRPTl9TVEFSVF9PRkZTRVQgPSBydGwgPyBgY2FsYygxMDAlIC0gJHtiYWNrQnV0dG9uQm94LnJpZ2h0ICsgNH1weClgIDogYCR7YmFja0J1dHRvbkJveC5sZWZ0IC0gNH1weGA7XG4gICAgY29uc3QgVEVYVF9PUklHSU5fWCA9IHJ0bCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgY29uc3QgSUNPTl9PUklHSU5fWCA9IHJ0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgY29uc3QgQ09OVEFJTkVSX09SSUdJTl9YID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBsZXQgV0lEVEhfU0NBTEUgPSAxO1xuICAgIGxldCBIRUlHSFRfU0NBTEUgPSAxO1xuICAgIGxldCBURVhUX1NUQVJUX1NDQUxFID0gYHNjYWxlKCR7SEVJR0hUX1NDQUxFfSlgO1xuICAgIGNvbnN0IFRFWFRfRU5EX1NDQUxFID0gJ3NjYWxlKDEpJztcbiAgICBpZiAoYmFja0J1dHRvblRleHRFbCAmJiBiYWNrQnV0dG9uVGV4dEJveCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgdGl0bGUgYW5kIGJhY2sgYnV0dG9uIHRleHRzIG1hdGNoIHRoZW4gdGhleSBzaG91bGQgb3ZlcmxhcCBkdXJpbmcgdGhlXG4gICAgICAgICAqIHBhZ2UgdHJhbnNpdGlvbi4gSWYgdGhlIHRleHRzIGRvIG5vdCBtYXRjaCB1cCB0aGVuIHRoZSBiYWNrIGJ1dHRvbiB0ZXh0IHNjYWxlXG4gICAgICAgICAqIGFkanVzdHMgdG8gbm90IHBlcmZlY3RseSBtYXRjaCB0aGUgbGFyZ2UgdGl0bGUgdGV4dCBvdGhlcndpc2UgdGhlIHByb3BvcnRpb25zXG4gICAgICAgICAqIHdpbGwgYmUgaW5jb3JyZWN0LiBXaGVuIHRoZSB0ZXh0cyBtYXRjaCB3ZSBzY2FsZSBib3RoIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHRvXG4gICAgICAgICAqIGFjY291bnQgZm9yIGZvbnQgd2VpZ2h0IGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHRpdGxlIGFuZCBiYWNrIGJ1dHRvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoID0gKChfYSA9IGJhY2tCdXR0b25UZXh0RWwudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCkpID09PSAoKF9iID0gbGFyZ2VUaXRsZUVsLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHJpbSgpKTtcbiAgICAgICAgV0lEVEhfU0NBTEUgPSBsYXJnZVRpdGxlVGV4dEJveC53aWR0aCAvIGJhY2tCdXR0b25UZXh0Qm94LndpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3VidHJhY3QgYW4gb2Zmc2V0IHRvIGFjY291bnQgZm9yIHNsaWdodCBzaXppbmcvcGFkZGluZyBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZVxuICAgICAgICAgKiB0aXRsZSBhbmQgdGhlIGJhY2sgYnV0dG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgSEVJR0hUX1NDQUxFID0gKGxhcmdlVGl0bGVUZXh0Qm94LmhlaWdodCAtIExBUkdFX1RJVExFX1NJWkVfT0ZGU0VUKSAvIGJhY2tCdXR0b25UZXh0Qm94LmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW4gdGhvdWdoIHdlIHNldCBURVhUX1NUQVJUX1NDQUxFIHRvIEhFSUdIVF9TQ0FMRSBhYm92ZSwgd2UgcG90ZW50aWFsbHkgbmVlZFxuICAgICAgICAgKiB0byByZS1jb21wdXRlIHRoaXMgaGVyZSBzaW5jZSB0aGUgSEVJR0hUX1NDQUxFIG1heSBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAqL1xuICAgICAgICBURVhUX1NUQVJUX1NDQUxFID0gZG9UaXRsZUFuZEJ1dHRvblRleHRzTWF0Y2ggPyBgc2NhbGUoJHtXSURUSF9TQ0FMRX0sICR7SEVJR0hUX1NDQUxFfSlgIDogYHNjYWxlKCR7SEVJR0hUX1NDQUxFfSlgO1xuICAgIH1cbiAgICBjb25zdCBiYWNrQnV0dG9uSWNvbkVsID0gc2hhZG93KGJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignaW9uLWljb24nKTtcbiAgICBjb25zdCBiYWNrQnV0dG9uSWNvbkJveCA9IGJhY2tCdXR0b25JY29uRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLyoqXG4gICAgICogV2UgbmVlZCB0byBvZmZzZXQgdGhlIGNvbnRhaW5lciBieSB0aGUgaWNvbiBkaW1lbnNpb25zXG4gICAgICogc28gdGhhdCB0aGUgYmFjayBidXR0b24gdGV4dCBhbGlnbnMgd2l0aCB0aGUgbGFyZ2UgdGl0bGVcbiAgICAgKiB0ZXh0LiBPdGhlcndpc2UsIHRoZSBiYWNrIGJ1dHRvbiBpY29uIHdpbGwgYWxpZ24gd2l0aCB0aGVcbiAgICAgKiBsYXJnZSB0aXRsZSB0ZXh0IGJ1dCB0aGUgYmFjayBidXR0b24gdGV4dCB3aWxsIG5vdC5cbiAgICAgKi9cbiAgICBjb25zdCBDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1ggPSBydGxcbiAgICAgICAgPyBgJHtiYWNrQnV0dG9uSWNvbkJveC53aWR0aCAvIDIgLSAoYmFja0J1dHRvbkljb25Cb3gucmlnaHQgLSBiYWNrQnV0dG9uQm94LnJpZ2h0KX1weGBcbiAgICAgICAgOiBgJHtiYWNrQnV0dG9uQm94LmxlZnQgLSBiYWNrQnV0dG9uSWNvbkJveC53aWR0aCAvIDJ9cHhgO1xuICAgIGNvbnN0IENPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1ggPSBydGwgPyBgLSR7d2luZG93LmlubmVyV2lkdGggLSBiYWNrQnV0dG9uQm94LnJpZ2h0fXB4YCA6IGAke2JhY2tCdXR0b25Cb3gubGVmdH1weGA7XG4gICAgLyoqXG4gICAgICogQmFjayBidXR0b24gY29udGFpbmVyIHNob3VsZCBiZVxuICAgICAqIGFsaWduZWQgdG8gdGhlIHRvcCBvZiB0aGUgdGl0bGUgY29udGFpbmVyXG4gICAgICogc28gdGhlIHRleHRzIG92ZXJsYXAgYXMgdGhlIGJhY2sgYnV0dG9uXG4gICAgICogdGV4dCBiZWdpbnMgdG8gZmFkZSBpbi5cbiAgICAgKi9cbiAgICBjb25zdCBDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1kgPSBgJHtsYXJnZVRpdGxlVGV4dEJveC50b3B9cHhgO1xuICAgIC8qKlxuICAgICAqIFRoZSBjbG9uZWQgYmFjayBidXR0b24gc2hvdWxkIGFsaWduIGV4YWN0bHkgd2l0aCB0aGVcbiAgICAgKiByZWFsIGJhY2sgYnV0dG9uIG9uIHRoZSBlbnRlcmluZyBwYWdlIG90aGVyd2lzZSB0aGVyZSB3aWxsXG4gICAgICogYmUgYSBsYXlvdXQgc2hpZnQuXG4gICAgICovXG4gICAgY29uc3QgQ09OVEFJTkVSX0VORF9UUkFOU0xBVEVfWSA9IGAke2JhY2tCdXR0b25Cb3gudG9wfXB4YDtcbiAgICAvKipcbiAgICAgKiBJbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24sIHRoZSBjbG9uZWQgYmFjayBidXR0b25cbiAgICAgKiBjb250YWluZXIgc2hvdWxkIHRyYW5zbGF0ZSBmcm9tIG92ZXIgdGhlIGxhcmdlIHRpdGxlXG4gICAgICogdG8gb3ZlciB0aGUgYmFjayBidXR0b24uIEluIHRoZSBiYWNrd2FyZCBkaXJlY3Rpb24sXG4gICAgICogaXQgc2hvdWxkIHRyYW5zbGF0ZSBmcm9tIG92ZXIgdGhlIGJhY2sgYnV0dG9uIHRvIG92ZXJcbiAgICAgKiB0aGUgbGFyZ2UgdGl0bGUuXG4gICAgICovXG4gICAgY29uc3QgRk9SV0FSRF9DT05UQUlORVJfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1h9LCAke0NPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWX0sIDApYCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9YfSwgJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9ZfSwgMClgIH0sXG4gICAgXTtcbiAgICBjb25zdCBCQUNLV0FSRF9DT05UQUlORVJfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9YfSwgJHtDT05UQUlORVJfRU5EX1RSQU5TTEFURV9ZfSwgMClgIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0NPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWH0sICR7Q09OVEFJTkVSX1NUQVJUX1RSQU5TTEFURV9ZfSwgMClgIH0sXG4gICAgXTtcbiAgICBjb25zdCBDT05UQUlORVJfS0VZRlJBTUVTID0gYmFja0RpcmVjdGlvbiA/IEJBQ0tXQVJEX0NPTlRBSU5FUl9LRVlGUkFNRVMgOiBGT1JXQVJEX0NPTlRBSU5FUl9LRVlGUkFNRVM7XG4gICAgLyoqXG4gICAgICogSW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uLCB0aGUgdGV4dCBpbiB0aGUgY2xvbmVkIGJhY2sgYnV0dG9uXG4gICAgICogc2hvdWxkIHN0YXJ0IHRvIGJlIChyb3VnaGx5KSB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2UgdGl0bGVcbiAgICAgKiBhbmQgdGhlbiBzY2FsZSBkb3duIHRvIGJlIHRoZSBzaXplIG9mIHRoZSBhY3R1YWwgYmFjayBidXR0b24uXG4gICAgICogVGhlIHRleHQgc2hvdWxkIGFsc28gdHJhbnNsYXRlLCBidXQgdGhhdCB0cmFuc2xhdGUgaXMgaGFuZGxlZFxuICAgICAqIGJ5IHRoZSBjb250YWluZXIga2V5ZnJhbWVzLlxuICAgICAqL1xuICAgIGNvbnN0IEZPUldBUkRfVEVYVF9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IFRFWFRfU1RBUlRfU0NBTEUgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogVEVYVF9FTkRfU0NBTEUgfSxcbiAgICBdO1xuICAgIGNvbnN0IEJBQ0tXQVJEX1RFWFRfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiBURVhUX0VORF9TQ0FMRSB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiBURVhUX1NUQVJUX1NDQUxFIH0sXG4gICAgXTtcbiAgICBjb25zdCBURVhUX0tFWUZSQU1FUyA9IGJhY2tEaXJlY3Rpb24gPyBCQUNLV0FSRF9URVhUX0tFWUZSQU1FUyA6IEZPUldBUkRfVEVYVF9LRVlGUkFNRVM7XG4gICAgLyoqXG4gICAgICogVGhlIGljb24gc2hvdWxkIHNjYWxlIGluL291dCBpbiB0aGUgc2Vjb25kXG4gICAgICogaGFsZiBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgaWNvbiBzaG91bGQgYWxzb1xuICAgICAqIHRyYW5zbGF0ZSwgYnV0IHRoYXQgdHJhbnNsYXRlIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogY29udGFpbmVyIGtleWZyYW1lcy5cbiAgICAgKi9cbiAgICBjb25zdCBGT1JXQVJEX0lDT05fS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC42KScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDAuNiwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC42KScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyB9LFxuICAgIF07XG4gICAgY29uc3QgQkFDS1dBUkRfSUNPTl9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDAuMiwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC42KScgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3NjYWxlKDAuNiknIH0sXG4gICAgXTtcbiAgICBjb25zdCBJQ09OX0tFWUZSQU1FUyA9IGJhY2tEaXJlY3Rpb24gPyBCQUNLV0FSRF9JQ09OX0tFWUZSQU1FUyA6IEZPUldBUkRfSUNPTl9LRVlGUkFNRVM7XG4gICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IGVudGVyaW5nQmFja0J1dHRvbkljb25BbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b25BbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCBjbG9uZWRCYWNrQnV0dG9uRWwgPSBnZXRDbG9uZWRFbGVtZW50KCdpb24tYmFjay1idXR0b24nKTtcbiAgICBjb25zdCBjbG9uZWRCYWNrQnV0dG9uVGV4dEVsID0gc2hhZG93KGNsb25lZEJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0Jyk7XG4gICAgY29uc3QgY2xvbmVkQmFja0J1dHRvbkljb25FbCA9IHNoYWRvdyhjbG9uZWRCYWNrQnV0dG9uRWwpLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1pY29uJyk7XG4gICAgY2xvbmVkQmFja0J1dHRvbkVsLnRleHQgPSBiYWNrQnV0dG9uRWwudGV4dDtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwubW9kZSA9IGJhY2tCdXR0b25FbC5tb2RlO1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5pY29uID0gYmFja0J1dHRvbkVsLmljb247XG4gICAgY2xvbmVkQmFja0J1dHRvbkVsLmNvbG9yID0gYmFja0J1dHRvbkVsLmNvbG9yO1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5kaXNhYmxlZCA9IGJhY2tCdXR0b25FbC5kaXNhYmxlZDtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvbi5hZGRFbGVtZW50KGNsb25lZEJhY2tCdXR0b25JY29uRWwpO1xuICAgIGVudGVyaW5nQmFja0J1dHRvblRleHRBbmltYXRpb24uYWRkRWxlbWVudChjbG9uZWRCYWNrQnV0dG9uVGV4dEVsKTtcbiAgICBlbnRlcmluZ0JhY2tCdXR0b25BbmltYXRpb24uYWRkRWxlbWVudChjbG9uZWRCYWNrQnV0dG9uRWwpO1xuICAgIGVudGVyaW5nQmFja0J1dHRvbkFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzBweCcsXG4gICAgICAgIFtDT05UQUlORVJfT1JJR0lOX1hdOiAnMHB4JyxcbiAgICB9KVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdyaXRlIGhvb2tzIG11c3QgYmUgc2V0IG9uIHRoaXMgYW5pbWF0aW9uIGFzIGl0IGlzIGd1YXJhbnRlZWQgdG8gcnVuLiBPdGhlclxuICAgICAgICAgKiBhbmltYXRpb25zIHN1Y2ggYXMgdGhlIGJhY2sgYnV0dG9uIHRleHQgYW5pbWF0aW9uIHdpbGwgbm90IHJ1biBpZiB0aGUgYmFjayBidXR0b25cbiAgICAgICAgICogaGFzIG5vIHZpc2libGUgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIGNsb25lZEJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eShURVhUX09SSUdJTl9YLCBCQUNLX0JVVFRPTl9TVEFSVF9PRkZTRVQpO1xuICAgIH0pXG4gICAgICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgYmFja0J1dHRvbkVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJycpO1xuICAgICAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoVEVYVF9PUklHSU5fWCk7XG4gICAgfSlcbiAgICAgICAgLmtleWZyYW1lcyhDT05UQUlORVJfS0VZRlJBTUVTKTtcbiAgICBlbnRlcmluZ0JhY2tCdXR0b25UZXh0QW5pbWF0aW9uXG4gICAgICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICAgICAndHJhbnNmb3JtLW9yaWdpbic6IGAke1RFWFRfT1JJR0lOX1h9IHRvcGAsXG4gICAgfSlcbiAgICAgICAgLmtleWZyYW1lcyhURVhUX0tFWUZSQU1FUyk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtJQ09OX09SSUdJTl9YfSBjZW50ZXJgLFxuICAgIH0pXG4gICAgICAgIC5rZXlmcmFtZXMoSUNPTl9LRVlGUkFNRVMpO1xuICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvbixcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvbixcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uQW5pbWF0aW9uLFxuICAgIF0pO1xufTtcbmNvbnN0IGFuaW1hdGVMYXJnZVRpdGxlID0gKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgbGFyZ2VUaXRsZUVsLCBsYXJnZVRpdGxlQm94LCBsYXJnZVRpdGxlVGV4dEJveCwgYmFja0J1dHRvbkJveCwgYmFja0J1dHRvblRleHRFbCwgYmFja0J1dHRvblRleHRCb3gpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIC8qKlxuICAgICAqIFRoZSBob3Jpem9udGFsIHRyYW5zZm9ybSBvcmlnaW4gZm9yIHRoZSBsYXJnZSB0aXRsZVxuICAgICAqL1xuICAgIGNvbnN0IE9SSUdJTl9YID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBjb25zdCBUSVRMRV9TVEFSVF9PRkZTRVQgPSBydGwgPyBgY2FsYygxMDAlIC0gJHtsYXJnZVRpdGxlQm94LnJpZ2h0fXB4KWAgOiBgJHtsYXJnZVRpdGxlQm94LmxlZnR9cHhgO1xuICAgIC8qKlxuICAgICAqIFRoZSBjbG9uZWQgbGFyZ2Ugc2hvdWxkIGFsaWduIGV4YWN0bHkgd2l0aCB0aGVcbiAgICAgKiByZWFsIGxhcmdlIHRpdGxlIG9uIHRoZSBsZWF2aW5nIHBhZ2Ugb3RoZXJ3aXNlIHRoZXJlIHdpbGxcbiAgICAgKiBiZSBhIGxheW91dCBzaGlmdC5cbiAgICAgKi9cbiAgICBjb25zdCBTVEFSVF9UUkFOU0xBVEVfWCA9ICcwcHgnO1xuICAgIGNvbnN0IFNUQVJUX1RSQU5TTEFURV9ZID0gYCR7bGFyZ2VUaXRsZUJveC50b3B9cHhgO1xuICAgIC8qKlxuICAgICAqIEhvdyBtdWNoIHRvIG9mZnNldCB0aGUgbGFyZ2UgdGl0bGUgdHJhbnNsYXRpb24gYnkuXG4gICAgICogVGhpcyBhY2NvdW50cyBmb3IgZGlmZmVyZW5jZXMgaW4gc2l6aW5nIGJldHdlZW4gdGhlIGxhcmdlXG4gICAgICogdGl0bGUgYW5kIHRoZSBiYWNrIGJ1dHRvbiBkdWUgdG8gcGFkZGluZyBhbmQgZm9udCB3ZWlnaHQuXG4gICAgICovXG4gICAgY29uc3QgTEFSR0VfVElUTEVfVFJBTlNMQVRJT05fT0ZGU0VUID0gODtcbiAgICBsZXQgRU5EX1RSQU5TTEFURV9YID0gcnRsXG4gICAgICAgID8gYC0ke3dpbmRvdy5pbm5lcldpZHRoIC0gYmFja0J1dHRvbkJveC5yaWdodCAtIExBUkdFX1RJVExFX1RSQU5TTEFUSU9OX09GRlNFVH1weGBcbiAgICAgICAgOiBgJHtiYWNrQnV0dG9uQm94LnggKyBMQVJHRV9USVRMRV9UUkFOU0xBVElPTl9PRkZTRVR9cHhgO1xuICAgIC8qKlxuICAgICAqIEhvdyBtdWNoIHRvIHNjYWxlIHRoZSBsYXJnZSB0aXRsZSB1cC9kb3duIGJ5LlxuICAgICAqL1xuICAgIGxldCBIRUlHSFRfU0NBTEUgPSAwLjU7XG4gICAgLyoqXG4gICAgICogVGhlIGxhcmdlIHRpdGxlIGFsd2F5cyBzdGFydHMgZnVsbCBzaXplLlxuICAgICAqL1xuICAgIGNvbnN0IFNUQVJUX1NDQUxFID0gJ3NjYWxlKDEpJztcbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB3ZSBkb24ndCB3b3JyeSBhYm91dCBoYXZpbmcgdGhlIGxhcmdlIHRpdGxlIHNjYWxlZCB0byBwZXJmZWN0bHlcbiAgICAgKiBtYXRjaCB0aGUgYmFjayBidXR0b24gYmVjYXVzZSB3ZSBkb24ndCBrbm93IGlmIHRoZSBiYWNrIGJ1dHRvbidzIHRleHQgbWF0Y2hlc1xuICAgICAqIHRoZSBsYXJnZSB0aXRsZSdzIHRleHQuXG4gICAgICovXG4gICAgbGV0IEVORF9TQ0FMRSA9IGBzY2FsZSgke0hFSUdIVF9TQ0FMRX0pYDtcbiAgICAvLyBUZXh0IGVsZW1lbnQgbm90IHJlbmRlcmVkIGlmIGRldmVsb3BlcnMgcGFzcyB0ZXh0PVwiXCIgdG8gdGhlIGJhY2sgYnV0dG9uXG4gICAgaWYgKGJhY2tCdXR0b25UZXh0RWwgJiYgYmFja0J1dHRvblRleHRCb3gpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZWQgdGl0bGUgc2hvdWxkIChyb3VnaGx5KSBvdmVybGFwIHRoZSBiYWNrIGJ1dHRvbi4gVGhpcyBlbnN1cmVzIHRoYXRcbiAgICAgICAgICogdGhlIGJhY2sgYnV0dG9uIGFuZCB0aXRsZSBvdmVybGFwIGR1cmluZyB0aGUgYW5pbWF0aW9uLiBOb3RlIHRoYXQgc2luY2UgYm90aFxuICAgICAgICAgKiBlbGVtZW50cyBlaXRoZXIgZmFkZSBpbiBvciBmYWRlIG91dCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlIGFuaW1hdGlvbiwgbmVpdGhlclxuICAgICAgICAgKiBlbGVtZW50IHdpbGwgYmUgZnVsbHkgdmlzaWJsZSBvbiB0b3Agb2YgdGhlIG90aGVyLiBBcyBhIHJlc3VsdCwgdGhlIG92ZXJsYXBcbiAgICAgICAgICogZG9lcyBub3QgbmVlZCB0byBiZSBwZXJmZWN0LCBzbyBhcHByb3hpbWF0ZSB2YWx1ZXMgYXJlIGFjY2VwdGFibGUgaGVyZS5cbiAgICAgICAgICovXG4gICAgICAgIEVORF9UUkFOU0xBVEVfWCA9IHJ0bFxuICAgICAgICAgICAgPyBgLSR7d2luZG93LmlubmVyV2lkdGggLSBiYWNrQnV0dG9uVGV4dEJveC5yaWdodCAtIExBUkdFX1RJVExFX1RSQU5TTEFUSU9OX09GRlNFVH1weGBcbiAgICAgICAgICAgIDogYCR7YmFja0J1dHRvblRleHRCb3gueCAtIExBUkdFX1RJVExFX1RSQU5TTEFUSU9OX09GRlNFVH1weGA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24sIHRoZSBsYXJnZSB0aXRsZSBzaG91bGQgc3RhcnQgYXQgaXRzIG5vcm1hbCBzaXplIGFuZFxuICAgICAgICAgKiB0aGVuIHNjYWxlIGRvd24gdG8gYmUgKHJvdWdobHkpIHRoZSBzaXplIG9mIHRoZSBiYWNrIGJ1dHRvbiBvbiB0aGUgb3RoZXIgdmlldy5cbiAgICAgICAgICogSW4gdGhlIGJhY2t3YXJkIGRpcmVjdGlvbiwgdGhlIGxhcmdlIHRpdGxlIHNob3VsZCBzdGFydCBhdCAocm91Z2hseSkgdGhlIHNpemVcbiAgICAgICAgICogb2YgdGhlIGJhY2sgYnV0dG9uIGFuZCB0aGVuIHNjYWxlIHVwIHRvIGl0cyBvcmlnaW5hbCBzaXplLlxuICAgICAgICAgKiBOb3RlIHRoYXQgc2luY2UgYm90aCBlbGVtZW50cyBlaXRoZXIgZmFkZSBpbiBvciBmYWRlIG91dCBvdmVyIHRoZSBjb3Vyc2Ugb2YgdGhlXG4gICAgICAgICAqIGFuaW1hdGlvbiwgbmVpdGhlciBlbGVtZW50IHdpbGwgYmUgZnVsbHkgdmlzaWJsZSBvbiB0b3Agb2YgdGhlIG90aGVyLiBBcyBhIHJlc3VsdCxcbiAgICAgICAgICogdGhlIG92ZXJsYXAgIGRvZXMgbm90IG5lZWQgdG8gYmUgcGVyZmVjdCwgc28gYXBwcm94aW1hdGUgdmFsdWVzIGFyZSBhY2NlcHRhYmxlIGhlcmUuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgdGl0bGUgYW5kIGJhY2sgYnV0dG9uIHRleHRzIG1hdGNoIHRoZW4gdGhleSBzaG91bGQgb3ZlcmxhcCBkdXJpbmcgdGhlXG4gICAgICAgICAqIHBhZ2UgdHJhbnNpdGlvbi4gSWYgdGhlIHRleHRzIGRvIG5vdCBtYXRjaCB1cCB0aGVuIHRoZSBsYXJnZSB0aXRsZSB0ZXh0IHNjYWxlXG4gICAgICAgICAqIGFkanVzdHMgdG8gbm90IHBlcmZlY3RseSBtYXRjaCB0aGUgYmFjayBidXR0b24gdGV4dCBvdGhlcndpc2UgdGhlIHByb3BvcnRpb25zXG4gICAgICAgICAqIHdpbGwgYmUgaW5jb3JyZWN0LiBXaGVuIHRoZSB0ZXh0cyBtYXRjaCB3ZSBzY2FsZSBib3RoIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHRvXG4gICAgICAgICAqIGFjY291bnQgZm9yIGZvbnQgd2VpZ2h0IGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHRpdGxlIGFuZCBiYWNrIGJ1dHRvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoID0gKChfYSA9IGJhY2tCdXR0b25UZXh0RWwudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCkpID09PSAoKF9iID0gbGFyZ2VUaXRsZUVsLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHJpbSgpKTtcbiAgICAgICAgY29uc3QgV0lEVEhfU0NBTEUgPSBiYWNrQnV0dG9uVGV4dEJveC53aWR0aCAvIGxhcmdlVGl0bGVUZXh0Qm94LndpZHRoO1xuICAgICAgICBIRUlHSFRfU0NBTEUgPSBiYWNrQnV0dG9uVGV4dEJveC5oZWlnaHQgLyAobGFyZ2VUaXRsZVRleHRCb3guaGVpZ2h0IC0gTEFSR0VfVElUTEVfU0laRV9PRkZTRVQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbiB0aG91Z2ggd2Ugc2V0IFRFWFRfU1RBUlRfU0NBTEUgdG8gSEVJR0hUX1NDQUxFIGFib3ZlLCB3ZSBwb3RlbnRpYWxseSBuZWVkXG4gICAgICAgICAqIHRvIHJlLWNvbXB1dGUgdGhpcyBoZXJlIHNpbmNlIHRoZSBIRUlHSFRfU0NBTEUgbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICovXG4gICAgICAgIEVORF9TQ0FMRSA9IGRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoID8gYHNjYWxlKCR7V0lEVEhfU0NBTEV9LCAke0hFSUdIVF9TQ0FMRX0pYCA6IGBzY2FsZSgke0hFSUdIVF9TQ0FMRX0pYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1pZHBvaW50cyBvZiB0aGUgYmFjayBidXR0b24gYW5kIHRoZSB0aXRsZSBzaG91bGQgYWxpZ24gc3VjaCB0aGF0IHRoZSBiYWNrXG4gICAgICogYnV0dG9uIGFuZCB0aXRsZSBhcHBlYXIgdG8gYmUgY2VudGVyZWQgd2l0aCBlYWNoIG90aGVyLlxuICAgICAqL1xuICAgIGNvbnN0IGJhY2tCdXR0b25NaWRQb2ludCA9IGJhY2tCdXR0b25Cb3gudG9wICsgYmFja0J1dHRvbkJveC5oZWlnaHQgLyAyO1xuICAgIGNvbnN0IHRpdGxlTWlkUG9pbnQgPSAobGFyZ2VUaXRsZUJveC5oZWlnaHQgKiBIRUlHSFRfU0NBTEUpIC8gMjtcbiAgICBjb25zdCBFTkRfVFJBTlNMQVRFX1kgPSBgJHtiYWNrQnV0dG9uTWlkUG9pbnQgLSB0aXRsZU1pZFBvaW50fXB4YDtcbiAgICBjb25zdCBCQUNLV0FSRFNfS0VZRlJBTUVTID0gW1xuICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtFTkRfVFJBTlNMQVRFX1h9LCAke0VORF9UUkFOU0xBVEVfWX0sIDApICR7RU5EX1NDQUxFfWAgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDAuMSwgb3BhY2l0eTogMCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtTVEFSVF9UUkFOU0xBVEVfWH0sICR7U1RBUlRfVFJBTlNMQVRFX1l9LCAwKSAke1NUQVJUX1NDQUxFfWAgfSxcbiAgICBdO1xuICAgIGNvbnN0IEZPUldBUkRTX0tFWUZSQU1FUyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgb3BhY2l0eTogMC45OSxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7U1RBUlRfVFJBTlNMQVRFX1h9LCAke1NUQVJUX1RSQU5TTEFURV9ZfSwgMCkgJHtTVEFSVF9TQ0FMRX1gLFxuICAgICAgICB9LFxuICAgICAgICB7IG9mZnNldDogMC42LCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0VORF9UUkFOU0xBVEVfWH0sICR7RU5EX1RSQU5TTEFURV9ZfSwgMCkgJHtFTkRfU0NBTEV9YCB9LFxuICAgIF07XG4gICAgY29uc3QgS0VZRlJBTUVTID0gYmFja0RpcmVjdGlvbiA/IEJBQ0tXQVJEU19LRVlGUkFNRVMgOiBGT1JXQVJEU19LRVlGUkFNRVM7XG4gICAgY29uc3QgY2xvbmVkVGl0bGVFbCA9IGdldENsb25lZEVsZW1lbnQoJ2lvbi10aXRsZScpO1xuICAgIGNvbnN0IGNsb25lZExhcmdlVGl0bGVBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjbG9uZWRUaXRsZUVsLmlubmVyVGV4dCA9IGxhcmdlVGl0bGVFbC5pbm5lclRleHQ7XG4gICAgY2xvbmVkVGl0bGVFbC5zaXplID0gbGFyZ2VUaXRsZUVsLnNpemU7XG4gICAgY2xvbmVkVGl0bGVFbC5jb2xvciA9IGxhcmdlVGl0bGVFbC5jb2xvcjtcbiAgICBjbG9uZWRMYXJnZVRpdGxlQW5pbWF0aW9uLmFkZEVsZW1lbnQoY2xvbmVkVGl0bGVFbCk7XG4gICAgY2xvbmVkTGFyZ2VUaXRsZUFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtPUklHSU5fWH0gdG9wYCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpbmNlIGZvbnQgc2l6ZSBjaGFuZ2VzIHdpbGwgY2F1c2VcbiAgICAgICAgICogdGhlIGRpbWVuc2lvbiBvZiB0aGUgbGFyZ2UgdGl0bGUgdG8gY2hhbmdlXG4gICAgICAgICAqIHdlIG5lZWQgdG8gc2V0IHRoZSBjbG9uZWQgdGl0bGUgaGVpZ2h0XG4gICAgICAgICAqIGVxdWFsIHRvIHRoYXQgb2YgdGhlIG9yaWdpbmFsIGxhcmdlIHRpdGxlIGhlaWdodC5cbiAgICAgICAgICovXG4gICAgICAgIGhlaWdodDogYCR7bGFyZ2VUaXRsZUJveC5oZWlnaHR9cHhgLFxuICAgICAgICBkaXNwbGF5OiAnJyxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgIFtPUklHSU5fWF06IFRJVExFX1NUQVJUX09GRlNFVCxcbiAgICB9KVxuICAgICAgICAuYmVmb3JlQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgICBsYXJnZVRpdGxlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ29wYWNpdHknLCAnMCcpO1xuICAgIH0pXG4gICAgICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgbGFyZ2VUaXRsZUVsLnN0eWxlLnNldFByb3BlcnR5KCdvcGFjaXR5JywgJycpO1xuICAgICAgICBjbG9uZWRUaXRsZUVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9KVxuICAgICAgICAua2V5ZnJhbWVzKEtFWUZSQU1FUyk7XG4gICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24oY2xvbmVkTGFyZ2VUaXRsZUFuaW1hdGlvbik7XG59O1xuY29uc3QgaW9zVHJhbnNpdGlvbkFuaW1hdGlvbiA9IChuYXZFbCwgb3B0cykgPT4ge1xuICAgIHZhciBfYTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBFQVNJTkcgPSAnY3ViaWMtYmV6aWVyKDAuMzIsMC43MiwwLDEpJztcbiAgICAgICAgY29uc3QgT1BBQ0lUWSA9ICdvcGFjaXR5JztcbiAgICAgICAgY29uc3QgVFJBTlNGT1JNID0gJ3RyYW5zZm9ybSc7XG4gICAgICAgIGNvbnN0IENFTlRFUiA9ICcwJSc7XG4gICAgICAgIGNvbnN0IE9GRl9PUEFDSVRZID0gMC44O1xuICAgICAgICBjb25zdCBpc1JUTCA9IG5hdkVsLm93bmVyRG9jdW1lbnQuZGlyID09PSAncnRsJztcbiAgICAgICAgY29uc3QgT0ZGX1JJR0hUID0gaXNSVEwgPyAnLTk5LjUlJyA6ICc5OS41JSc7XG4gICAgICAgIGNvbnN0IE9GRl9MRUZUID0gaXNSVEwgPyAnMzMlJyA6ICctMzMlJztcbiAgICAgICAgY29uc3QgZW50ZXJpbmdFbCA9IG9wdHMuZW50ZXJpbmdFbDtcbiAgICAgICAgY29uc3QgbGVhdmluZ0VsID0gb3B0cy5sZWF2aW5nRWw7XG4gICAgICAgIGNvbnN0IGJhY2tEaXJlY3Rpb24gPSBvcHRzLmRpcmVjdGlvbiA9PT0gJ2JhY2snO1xuICAgICAgICBjb25zdCBjb250ZW50RWwgPSBlbnRlcmluZ0VsLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IGlvbi1jb250ZW50Jyk7XG4gICAgICAgIGNvbnN0IGhlYWRlckVscyA9IGVudGVyaW5nRWwucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gaW9uLWhlYWRlciA+ICo6bm90KGlvbi10b29sYmFyKSwgOnNjb3BlID4gaW9uLWZvb3RlciA+IConKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdUb29sQmFyRWxzID0gZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBpb24taGVhZGVyID4gaW9uLXRvb2xiYXInKTtcbiAgICAgICAgY29uc3Qgcm9vdEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICBjb25zdCBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgcm9vdEFuaW1hdGlvblxuICAgICAgICAgICAgLmFkZEVsZW1lbnQoZW50ZXJpbmdFbClcbiAgICAgICAgICAgIC5kdXJhdGlvbigoKF9hID0gb3B0cy5kdXJhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgfHwgRFVSQVRJT04pXG4gICAgICAgICAgICAuZWFzaW5nKG9wdHMuZWFzaW5nIHx8IEVBU0lORylcbiAgICAgICAgICAgIC5maWxsKCdib3RoJylcbiAgICAgICAgICAgIC5iZWZvcmVSZW1vdmVDbGFzcygnaW9uLXBhZ2UtaW52aXNpYmxlJyk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLW9wdGlvbmFsLWNoYWluXG4gICAgICAgIGlmIChsZWF2aW5nRWwgJiYgbmF2RWwgIT09IG51bGwgJiYgbmF2RWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbmF2RGVjb3JBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIG5hdkRlY29yQW5pbWF0aW9uLmFkZEVsZW1lbnQobmF2RWwpO1xuICAgICAgICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24obmF2RGVjb3JBbmltYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGVudEVsICYmIGVudGVyaW5nVG9vbEJhckVscy5sZW5ndGggPT09IDAgJiYgaGVhZGVyRWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uLmFkZEVsZW1lbnQoZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuaW9uLXBhZ2UsIDpzY29wZSA+IGlvbi1uYXYsIDpzY29wZSA+IGlvbi10YWJzJykpOyAvLyBSRVZJRVdcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVudGVyaW5nQ29udGVudEFuaW1hdGlvbi5hZGRFbGVtZW50KGNvbnRlbnRFbCk7IC8vIFJFVklFV1xuICAgICAgICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uLmFkZEVsZW1lbnQoaGVhZGVyRWxzKTtcbiAgICAgICAgfVxuICAgICAgICByb290QW5pbWF0aW9uLmFkZEFuaW1hdGlvbihlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24pO1xuICAgICAgICBpZiAoYmFja0RpcmVjdGlvbikge1xuICAgICAgICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYClcbiAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIE9GRl9PUEFDSVRZLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVudGVyaW5nIGNvbnRlbnQsIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb25cbiAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX1JJR0hUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRlbnRFbCkge1xuICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwgPSBzaGFkb3coY29udGVudEVsKS5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1lZmZlY3QnKTtcbiAgICAgICAgICAgIGlmIChlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyRWwgPSBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbC5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1jb3ZlcicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVHJhbnNpdGlvblNoYWRvd0VsID0gZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwucXVlcnlTZWxlY3RvcignLnRyYW5zaXRpb24tc2hhZG93Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXIgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3cgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RcbiAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwpXG4gICAgICAgICAgICAgICAgICAgIC5iZWZvcmVTdHlsZXMoeyBvcGFjaXR5OiAnMScsIGRpc3BsYXk6ICdibG9jaycgfSlcbiAgICAgICAgICAgICAgICAgICAgLmFmdGVyU3R5bGVzKHsgb3BhY2l0eTogJycsIGRpc3BsYXk6ICcnIH0pO1xuICAgICAgICAgICAgICAgIGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyRWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAsIDAuMSk7XG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUcmFuc2l0aW9uU2hhZG93XG4gICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGVudGVyaW5nVHJhbnNpdGlvblNoYWRvd0VsKSAvLyBSRVZJRVdcbiAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAgICAgLmZyb21UbyhPUEFDSVRZLCAwLjAzLCAwLjcpO1xuICAgICAgICAgICAgICAgIGVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdC5hZGRBbmltYXRpb24oW2VudGVyaW5nVHJhbnNpdGlvbkNvdmVyLCBlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3ddKTtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRlcmluZ0NvbnRlbnRIYXNMYXJnZVRpdGxlID0gZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yKCdpb24taGVhZGVyLmhlYWRlci1jb2xsYXBzZS1jb25kZW5zZScpO1xuICAgICAgICBjb25zdCB7IGZvcndhcmQsIGJhY2t3YXJkIH0gPSBjcmVhdGVMYXJnZVRpdGxlVHJhbnNpdGlvbihyb290QW5pbWF0aW9uLCBpc1JUTCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdFbCwgbGVhdmluZ0VsKTtcbiAgICAgICAgZW50ZXJpbmdUb29sQmFyRWxzLmZvckVhY2goKGVudGVyaW5nVG9vbEJhckVsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXIgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhci5hZGRFbGVtZW50KGVudGVyaW5nVG9vbEJhckVsKTtcbiAgICAgICAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGVudGVyaW5nVG9vbEJhcik7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1RpdGxlID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBlbnRlcmluZ1RpdGxlLmFkZEVsZW1lbnQoZW50ZXJpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvcignaW9uLXRpdGxlJykpOyAvLyBSRVZJRVdcbiAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVG9vbEJhckJ1dHRvbnMgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBBcnJheS5mcm9tKGVudGVyaW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1idXR0b25zLFttZW51VG9nZ2xlXScpKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEhlYWRlciA9IGVudGVyaW5nVG9vbEJhckVsLmNsb3Nlc3QoJ2lvbi1oZWFkZXInKTtcbiAgICAgICAgICAgIGNvbnN0IGluYWN0aXZlSGVhZGVyID0gcGFyZW50SGVhZGVyID09PSBudWxsIHx8IHBhcmVudEhlYWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50SGVhZGVyLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlJyk7XG4gICAgICAgICAgICBsZXQgYnV0dG9uc1RvQW5pbWF0ZTtcbiAgICAgICAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uc1RvQW5pbWF0ZSA9IGJ1dHRvbnMuZmlsdGVyKChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb2xsYXBzZUJ1dHRvbiA9IGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29sbGFwc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc0NvbGxhcHNlQnV0dG9uICYmICFpbmFjdGl2ZUhlYWRlcikgfHwgIWlzQ29sbGFwc2VCdXR0b247XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidXR0b25zVG9BbmltYXRlID0gYnV0dG9ucy5maWx0ZXIoKGJ1dHRvbikgPT4gIWJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29sbGFwc2UnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCdXR0b25zLmFkZEVsZW1lbnQoYnV0dG9uc1RvQW5pbWF0ZSk7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJJdGVtcyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFySXRlbXMuYWRkRWxlbWVudChlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAqOm5vdChpb24tdGl0bGUpOm5vdChpb24tYnV0dG9ucyk6bm90KFttZW51VG9nZ2xlXSknKSk7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJCZyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyQmcuYWRkRWxlbWVudChzaGFkb3coZW50ZXJpbmdUb29sQmFyRWwpLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyLWJhY2tncm91bmQnKSk7IC8vIFJFVklFV1xuICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBiYWNrQnV0dG9uRWwgPSBlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFjay1idXR0b24nKTtcbiAgICAgICAgICAgIGlmIChiYWNrQnV0dG9uRWwpIHtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ0JhY2tCdXR0b24uYWRkRWxlbWVudChiYWNrQnV0dG9uRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyLmFkZEFuaW1hdGlvbihbXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUaXRsZSxcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCdXR0b25zLFxuICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckl0ZW1zLFxuICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckJnLFxuICAgICAgICAgICAgICAgIGVudGVyaW5nQmFja0J1dHRvbixcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyQnV0dG9ucy5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICBpZiAoYmFja0RpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICghaW5hY3RpdmVIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50ZXJpbmdUaXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfTEVGVH0pYCwgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuMDEsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX0xFRlR9KWAsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgKTtcbiAgICAgICAgICAgICAgICAvLyBiYWNrIGRpcmVjdGlvbiwgZW50ZXJpbmcgcGFnZSBoYXMgYSBiYWNrIGJ1dHRvblxuICAgICAgICAgICAgICAgIGVudGVyaW5nQmFja0J1dHRvbi5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbnRlcmluZyB0b29sYmFyLCBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGlmICghZW50ZXJpbmdDb250ZW50SGFzTGFyZ2VUaXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1RpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke09GRl9SSUdIVH0pYCwgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuMDEsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX1JJR0hUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCk7XG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyQmcuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFksICd0cmFuc2Zvcm0nXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNsdWNlbnRIZWFkZXIgPSBwYXJlbnRIZWFkZXIgPT09IG51bGwgfHwgcGFyZW50SGVhZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnRIZWFkZXIudHJhbnNsdWNlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2x1Y2VudEhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCZy5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgJ3ZhcigtLW9wYWNpdHkpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCZy5mcm9tVG8oJ3RyYW5zZm9ybScsIGlzUlRMID8gJ3RyYW5zbGF0ZVgoLTEwMCUpJyA6ICd0cmFuc2xhdGVYKDEwMCUpJywgJ3RyYW5zbGF0ZVgoMHB4KScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmb3J3YXJkIGRpcmVjdGlvbiwgZW50ZXJpbmcgcGFnZSBoYXMgYSBiYWNrIGJ1dHRvblxuICAgICAgICAgICAgICAgIGlmICghZm9yd2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ0JhY2tCdXR0b24uZnJvbVRvKE9QQUNJVFksIDAuMDEsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmFja0J1dHRvbkVsICYmICFmb3J3YXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nQmFja0J0blRleHQgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZW50ZXJpbmdCYWNrQnRuVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoc2hhZG93KGJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0JykpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbyhgdHJhbnNmb3JtYCwgaXNSVEwgPyAndHJhbnNsYXRlWCgtMTAwcHgpJyA6ICd0cmFuc2xhdGVYKDEwMHB4KScsICd0cmFuc2xhdGVYKDBweCknKTtcbiAgICAgICAgICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyLmFkZEFuaW1hdGlvbihlbnRlcmluZ0JhY2tCdG5UZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzZXR1cCBsZWF2aW5nIHZpZXdcbiAgICAgICAgaWYgKGxlYXZpbmdFbCkge1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ0NvbnRlbnQgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdDb250ZW50RWwgPSBsZWF2aW5nRWwucXVlcnlTZWxlY3RvcignOnNjb3BlID4gaW9uLWNvbnRlbnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFyRWxzID0gbGVhdmluZ0VsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IGlvbi1oZWFkZXIgPiBpb24tdG9vbGJhcicpO1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ0hlYWRlckVscyA9IGxlYXZpbmdFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBpb24taGVhZGVyID4gKjpub3QoaW9uLXRvb2xiYXIpLCA6c2NvcGUgPiBpb24tZm9vdGVyID4gKicpO1xuICAgICAgICAgICAgaWYgKCFsZWF2aW5nQ29udGVudEVsICYmIGxlYXZpbmdUb29sQmFyRWxzLmxlbmd0aCA9PT0gMCAmJiBsZWF2aW5nSGVhZGVyRWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxlYXZpbmdDb250ZW50LmFkZEVsZW1lbnQobGVhdmluZ0VsLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IC5pb24tcGFnZSwgOnNjb3BlID4gaW9uLW5hdiwgOnNjb3BlID4gaW9uLXRhYnMnKSk7IC8vIFJFVklFV1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGVhdmluZ0NvbnRlbnQuYWRkRWxlbWVudChsZWF2aW5nQ29udGVudEVsKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgbGVhdmluZ0NvbnRlbnQuYWRkRWxlbWVudChsZWF2aW5nSGVhZGVyRWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGxlYXZpbmdDb250ZW50KTtcbiAgICAgICAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gbGVhdmluZyBjb250ZW50LCBiYWNrIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGxlYXZpbmdDb250ZW50XG4gICAgICAgICAgICAgICAgICAgIC5iZWZvcmVDbGVhclN0eWxlcyhbT1BBQ0lUWV0pXG4gICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdQYWdlID0gZ2V0SW9uUGFnZUVsZW1lbnQobGVhdmluZ0VsKTtcbiAgICAgICAgICAgICAgICByb290QW5pbWF0aW9uLmFmdGVyQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEFuaW1hdGlvbi5nZXREaXJlY3Rpb24oKSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdQYWdlLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbGVhdmluZyBjb250ZW50LCBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGxlYXZpbmdDb250ZW50XG4gICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgKVxuICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDEsIE9GRl9PUEFDSVRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZWF2aW5nQ29udGVudEVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1RyYW5zaXRpb25FZmZlY3RFbCA9IHNoYWRvdyhsZWF2aW5nQ29udGVudEVsKS5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1lZmZlY3QnKTtcbiAgICAgICAgICAgICAgICBpZiAobGVhdmluZ1RyYW5zaXRpb25FZmZlY3RFbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVHJhbnNpdGlvbkNvdmVyRWwgPSBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLWNvdmVyJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwgPSBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLXNoYWRvdycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVHJhbnNpdGlvbkNvdmVyID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZVN0eWxlcyh7IG9wYWNpdHk6ICcxJywgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyU3R5bGVzKHsgb3BhY2l0eTogJycsIGRpc3BsYXk6ICcnIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVHJhbnNpdGlvbkNvdmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChsZWF2aW5nVHJhbnNpdGlvbkNvdmVyRWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC4xLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25TaGFkb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC43LCAwLjAzKTtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25FZmZlY3QuYWRkQW5pbWF0aW9uKFtsZWF2aW5nVHJhbnNpdGlvbkNvdmVyLCBsZWF2aW5nVHJhbnNpdGlvblNoYWRvd10pO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nQ29udGVudC5hZGRBbmltYXRpb24oW2xlYXZpbmdUcmFuc2l0aW9uRWZmZWN0XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJFbHMuZm9yRWFjaCgobGVhdmluZ1Rvb2xCYXJFbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFyID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXIuYWRkRWxlbWVudChsZWF2aW5nVG9vbEJhckVsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVGl0bGUgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVGl0bGUuYWRkRWxlbWVudChsZWF2aW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi10aXRsZScpKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJCdXR0b25zID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IGxlYXZpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMsW21lbnVUb2dnbGVdJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SGVhZGVyID0gbGVhdmluZ1Rvb2xCYXJFbC5jbG9zZXN0KCdpb24taGVhZGVyJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5hY3RpdmVIZWFkZXIgPSBwYXJlbnRIZWFkZXIgPT09IG51bGwgfHwgcGFyZW50SGVhZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnRIZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXItY29sbGFwc2UtY29uZGVuc2UtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBidXR0b25zVG9BbmltYXRlID0gQXJyYXkuZnJvbShidXR0b25zKS5maWx0ZXIoKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvbGxhcHNlQnV0dG9uID0gYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9ucy1jb2xsYXBzZScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzQ29sbGFwc2VCdXR0b24gJiYgIWluYWN0aXZlSGVhZGVyKSB8fCAhaXNDb2xsYXBzZUJ1dHRvbjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJ1dHRvbnMuYWRkRWxlbWVudChidXR0b25zVG9BbmltYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVG9vbEJhckl0ZW1zID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJJdGVtRWxzID0gbGVhdmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAqOm5vdChpb24tdGl0bGUpOm5vdChpb24tYnV0dG9ucyk6bm90KFttZW51VG9nZ2xlXSknKTtcbiAgICAgICAgICAgICAgICBpZiAobGVhdmluZ1Rvb2xCYXJJdGVtRWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJJdGVtcy5hZGRFbGVtZW50KGxlYXZpbmdUb29sQmFySXRlbUVscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFyQmcgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmFkZEVsZW1lbnQoc2hhZG93KGxlYXZpbmdUb29sQmFyRWwpLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyLWJhY2tncm91bmQnKSk7IC8vIFJFVklFV1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnV0dG9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja0J1dHRvbkVsID0gbGVhdmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFjay1idXR0b24nKTtcbiAgICAgICAgICAgICAgICBpZiAoYmFja0J1dHRvbkVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdCYWNrQnV0dG9uLmFkZEVsZW1lbnQoYmFja0J1dHRvbkVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXIuYWRkQW5pbWF0aW9uKFtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RpdGxlLFxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFySXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdCYWNrQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGxlYXZpbmdUb29sQmFyKTtcbiAgICAgICAgICAgICAgICAvLyBmYWRlIG91dCBsZWF2aW5nIHRvb2xiYXIgaXRlbXNcbiAgICAgICAgICAgICAgICBsZWF2aW5nQmFja0J1dHRvbi5mcm9tVG8oT1BBQ0lUWSwgMC45OSwgMCk7XG4gICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJCdXR0b25zLmZyb21UbyhPUEFDSVRZLCAwLjk5LCAwKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckl0ZW1zLmZyb21UbyhPUEFDSVRZLCAwLjk5LCAwKTtcbiAgICAgICAgICAgICAgICBpZiAoYmFja0RpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluYWN0aXZlSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIHRvb2xiYXIsIGJhY2sgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCwgaXNSVEwgPyAndHJhbnNsYXRlWCgtMTAwJSknIDogJ3RyYW5zbGF0ZVgoMTAwJSknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC45OSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZLCAndHJhbnNmb3JtJ10pO1xuICAgICAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIHRvb2xiYXIsIGJhY2sgZGlyZWN0aW9uLCBhbmQgdGhlcmUncyBubyBlbnRlcmluZyB0b29sYmFyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBqdXN0IHNsaWRlIG91dCwgbm8gZmFkaW5nIG91dFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2x1Y2VudEhlYWRlciA9IHBhcmVudEhlYWRlciA9PT0gbnVsbCB8fCBwYXJlbnRIZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEhlYWRlci50cmFuc2x1Y2VudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2x1Y2VudEhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJCZy5mcm9tVG8oT1BBQ0lUWSwgJ3ZhcigtLW9wYWNpdHkpJywgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmZyb21UbygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVgoMHB4KScsIGlzUlRMID8gJ3RyYW5zbGF0ZVgoLTEwMCUpJyA6ICd0cmFuc2xhdGVYKDEwMCUpJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tCdXR0b25FbCAmJiAhYmFja3dhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnRuVGV4dCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0JhY2tCdG5UZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoc2hhZG93KGJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignLmJ1dHRvbi10ZXh0JykpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgkeyhpc1JUTCA/IC0xMjQgOiAxMjQpICsgJ3B4J30pYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhci5hZGRBbmltYXRpb24obGVhdmluZ0JhY2tCdG5UZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVhdmluZyB0b29sYmFyLCBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluYWN0aXZlSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCwgYHRyYW5zbGF0ZVgoJHtPRkZfTEVGVH0pYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuOTksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoW1RSQU5TRk9STSwgT1BBQ0lUWV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFySXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFmdGVyQ2xlYXJTdHlsZXMoW1RSQU5TRk9STSwgT1BBQ0lUWV0pO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nQmFja0J1dHRvbi5hZnRlckNsZWFyU3R5bGVzKFtPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUaXRsZS5hZnRlckNsZWFyU3R5bGVzKFtPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQnV0dG9ucy5hZnRlckNsZWFyU3R5bGVzKFtPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvb3RBbmltYXRpb247XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn07XG4vKipcbiAqIFRoZSBzY2FsZSBvZiB0aGUgYmFjayBidXR0b24gZHVyaW5nIHRoZSBhbmltYXRpb25cbiAqIGlzIGNvbXB1dGVkIGJhc2VkIG9uIHRoZSBzY2FsZSBvZiB0aGUgbGFyZ2UgdGl0bGVcbiAqIGFuZCB2aWNlIHZlcnNhLiBIb3dldmVyLCB3ZSBuZWVkIHRvIGFjY291bnQgZm9yIHNsaWdodFxuICogdmFyaWF0aW9ucyBpbiB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2UgdGl0bGUgZHVlIHRvXG4gKiBwYWRkaW5nIGFuZCBmb250IHdlaWdodC4gVGhpcyB2YWx1ZSBzaG91bGQgYmUgdXNlZCB0byBzdWJ0cmFjdFxuICogYSBzbWFsbCBhbW91bnQgZnJvbSB0aGUgbGFyZ2UgdGl0bGUgaGVpZ2h0IHdoZW4gY29tcHV0aW5nIHNjYWxlc1xuICogdG8gZ2V0IG1vcmUgYWNjdXJhdGUgc2NhbGUgcmVzdWx0cy5cbiAqL1xuY29uc3QgTEFSR0VfVElUTEVfU0laRV9PRkZTRVQgPSAxMDtcblxuZXhwb3J0IHsgaW9zVHJhbnNpdGlvbkFuaW1hdGlvbiwgc2hhZG93IH07XG4iXSwibmFtZXMiOlsiZ2V0Q2xvbmVkRWxlbWVudCIsInRhZ05hbWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzaGFkb3ciLCJleHBvcnRzIiwiZWwiLCJzaGFkb3dSb290IiwiZ2V0TGFyZ2VUaXRsZSIsInJlZkVsIiwidGFicyIsInF1ZXJ5IiwiYWN0aXZlVGFiIiwiZ2V0QmFja0J1dHRvbiIsImJhY2tEaXJlY3Rpb24iLCJidXR0b25zTGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25zIiwicGFyZW50SGVhZGVyIiwiY2xvc2VzdCIsImFjdGl2ZUhlYWRlciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYmFja0J1dHRvbiIsImJ1dHRvbnNDb2xsYXBzZSIsInN0YXJ0U2xvdCIsInNsb3QiLCJhbmltYXRlQmFja0J1dHRvbiIsInJvb3RBbmltYXRpb24iLCJydGwiLCJiYWNrQnV0dG9uRWwiLCJiYWNrQnV0dG9uQm94IiwiYmFja0J1dHRvblRleHRFbCIsImJhY2tCdXR0b25UZXh0Qm94IiwibGFyZ2VUaXRsZUVsIiwibGFyZ2VUaXRsZVRleHRCb3giLCJfYSIsIl9iIiwiQkFDS19CVVRUT05fU1RBUlRfT0ZGU0VUIiwicmlnaHQiLCJsZWZ0IiwiVEVYVF9PUklHSU5fWCIsIklDT05fT1JJR0lOX1giLCJDT05UQUlORVJfT1JJR0lOX1giLCJXSURUSF9TQ0FMRSIsIkhFSUdIVF9TQ0FMRSIsIlRFWFRfU1RBUlRfU0NBTEUiLCJURVhUX0VORF9TQ0FMRSIsImRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoIiwidGV4dENvbnRlbnQiLCJ0cmltIiwid2lkdGgiLCJoZWlnaHQiLCJMQVJHRV9USVRMRV9TSVpFX09GRlNFVCIsImJhY2tCdXR0b25JY29uQm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiQ09OVEFJTkVSX1NUQVJUX1RSQU5TTEFURV9YIiwiQ09OVEFJTkVSX0VORF9UUkFOU0xBVEVfWCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1kiLCJ0b3AiLCJDT05UQUlORVJfRU5EX1RSQU5TTEFURV9ZIiwiQ09OVEFJTkVSX0tFWUZSQU1FUyIsIm9mZnNldCIsInRyYW5zZm9ybSIsIlRFWFRfS0VZRlJBTUVTIiwib3BhY2l0eSIsIklDT05fS0VZRlJBTUVTIiwiZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvbiIsImNyZWF0ZUFuaW1hdGlvbiIsImVudGVyaW5nQmFja0J1dHRvbkljb25BbmltYXRpb24iLCJlbnRlcmluZ0JhY2tCdXR0b25BbmltYXRpb24iLCJjbG9uZWRCYWNrQnV0dG9uRWwiLCJjbG9uZWRCYWNrQnV0dG9uVGV4dEVsIiwiY2xvbmVkQmFja0J1dHRvbkljb25FbCIsInRleHQiLCJtb2RlIiwiaWNvbiIsImNvbG9yIiwiZGlzYWJsZWQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiYWRkRWxlbWVudCIsImJlZm9yZVN0eWxlcyIsInBvc2l0aW9uIiwiYmVmb3JlQWRkV3JpdGUiLCJhZnRlckFkZFdyaXRlIiwicmVtb3ZlUHJvcGVydHkiLCJrZXlmcmFtZXMiLCJhZGRBbmltYXRpb24iLCJhbmltYXRlTGFyZ2VUaXRsZSIsImxhcmdlVGl0bGVCb3giLCJPUklHSU5fWCIsIlRJVExFX1NUQVJUX09GRlNFVCIsIlNUQVJUX1RSQU5TTEFURV9ZIiwiRU5EX1RSQU5TTEFURV9YIiwieCIsIlNUQVJUX1NDQUxFIiwiRU5EX1NDQUxFIiwiRU5EX1RSQU5TTEFURV9ZIiwiS0VZRlJBTUVTIiwiY2xvbmVkVGl0bGVFbCIsImNsb25lZExhcmdlVGl0bGVBbmltYXRpb24iLCJpbm5lclRleHQiLCJzaXplIiwiZGlzcGxheSIsIm5hdkVsIiwib3B0cyIsIkVBU0lORyIsIk9QQUNJVFkiLCJUUkFOU0ZPUk0iLCJDRU5URVIiLCJPRkZfT1BBQ0lUWSIsImlzUlRMIiwib3duZXJEb2N1bWVudCIsImRpciIsIk9GRl9SSUdIVCIsIk9GRl9MRUZUIiwiZW50ZXJpbmdFbCIsImxlYXZpbmdFbCIsImRpcmVjdGlvbiIsImNvbnRlbnRFbCIsImhlYWRlckVscyIsImVudGVyaW5nVG9vbEJhckVscyIsImVudGVyaW5nQ29udGVudEFuaW1hdGlvbiIsImR1cmF0aW9uIiwiZWFzaW5nIiwiZmlsbCIsImJlZm9yZVJlbW92ZUNsYXNzIiwibmF2RGVjb3JBbmltYXRpb24iLCJsZW5ndGgiLCJiZWZvcmVDbGVhclN0eWxlcyIsImZyb21UbyIsImVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdEVsIiwiZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXJFbCIsImVudGVyaW5nVHJhbnNpdGlvblNoYWRvd0VsIiwiZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0IiwiZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXIiLCJlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3ciLCJhZnRlclN0eWxlcyIsImVudGVyaW5nQ29udGVudEhhc0xhcmdlVGl0bGUiLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJjcmVhdGVMYXJnZVRpdGxlVHJhbnNpdGlvbiIsImVudGVyaW5nQmFja0J1dHRvbiIsImxlYXZpbmdMYXJnZVRpdGxlIiwiZW50ZXJpbmdMYXJnZVRpdGxlIiwibGVhdmluZ0JhY2tCdXR0b24iLCJzaG91bGRBbmltYXRpb25Gb3J3YXJkIiwic2hvdWxkQW5pbWF0aW9uQmFja3dhcmQiLCJsZWF2aW5nTGFyZ2VUaXRsZUJveCIsImVudGVyaW5nQmFja0J1dHRvbkJveCIsImVudGVyaW5nQmFja0J1dHRvblRleHRFbCIsImVudGVyaW5nQmFja0J1dHRvblRleHRCb3giLCJsZWF2aW5nTGFyZ2VUaXRsZVRleHRCb3giLCJlbnRlcmluZ0xhcmdlVGl0bGVCb3giLCJsZWF2aW5nQmFja0J1dHRvbkJveCIsImxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsIiwibGVhdmluZ0JhY2tCdXR0b25UZXh0Qm94IiwiZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCIsImZvckVhY2giLCJlbnRlcmluZ1Rvb2xCYXJFbCIsImVudGVyaW5nVG9vbEJhciIsImVudGVyaW5nVGl0bGUiLCJlbnRlcmluZ1Rvb2xCYXJCdXR0b25zIiwiQXJyYXkiLCJmcm9tIiwiaW5hY3RpdmVIZWFkZXIiLCJidXR0b25zVG9BbmltYXRlIiwiZmlsdGVyIiwiYnV0dG9uIiwiaXNDb2xsYXBzZUJ1dHRvbiIsImVudGVyaW5nVG9vbEJhckl0ZW1zIiwiZW50ZXJpbmdUb29sQmFyQmciLCJ0cmFuc2x1Y2VudCIsImVudGVyaW5nQmFja0J0blRleHQiLCJsZWF2aW5nQ29udGVudCIsImxlYXZpbmdDb250ZW50RWwiLCJsZWF2aW5nVG9vbEJhckVscyIsImxlYXZpbmdIZWFkZXJFbHMiLCJsZWF2aW5nUGFnZSIsImdldElvblBhZ2VFbGVtZW50IiwiZ2V0RGlyZWN0aW9uIiwibGVhdmluZ1RyYW5zaXRpb25FZmZlY3RFbCIsImxlYXZpbmdUcmFuc2l0aW9uQ292ZXJFbCIsImxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwiLCJsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdCIsImxlYXZpbmdUcmFuc2l0aW9uQ292ZXIiLCJsZWF2aW5nVHJhbnNpdGlvblNoYWRvdyIsImxlYXZpbmdUb29sQmFyRWwiLCJsZWF2aW5nVG9vbEJhciIsImxlYXZpbmdUaXRsZSIsImxlYXZpbmdUb29sQmFyQnV0dG9ucyIsImxlYXZpbmdUb29sQmFySXRlbXMiLCJsZWF2aW5nVG9vbEJhckl0ZW1FbHMiLCJsZWF2aW5nVG9vbEJhckJnIiwibGVhdmluZ0JhY2tCdG5UZXh0IiwiYWZ0ZXJDbGVhclN0eWxlcyIsImVyciJdLCJtYXBwaW5ncyI6Ijs7OztBQU1BLE1BRU1BLEVBQW9CQyxHQUNmQyxTQUFTQyxjQUFjLEdBQUdGLHdCQUUvQkcsRUFBTUMsRUFBQSxTQUFJQyxHQUNMQSxFQUFHQyxZQUFjRCxHQUV0QkUsRUFBaUJDLElBQ25CLE1BQU1DLEVBQXlCLGFBQWxCRCxFQUFNUixRQUF5QlEsRUFBUUEsRUFBTU4sY0FB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
